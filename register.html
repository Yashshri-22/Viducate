<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Futuristic Tech Portal</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto&display=swap" rel="stylesheet">

<!-- CSS -->
<style>
  body, html {
    height: 100%;
    margin: 0;
    font-family: 'Roboto', sans-serif;
    overflow: hidden;
    background: #0f111a;
    color: #fff;
    transition: background 1s;
  }

  #particles-js {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: -1;
    opacity: 1;
    transition: opacity 1.2s ease-in-out;
  }

  .form-container {
    position: relative;
    width: 360px;
    margin: auto;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.85);
    padding: 40px 50px;
    border-radius: 15px;
    box-shadow: 0 0 30px #00ffff88, 0 0 60px #00ffff33;
    text-align: center;
    color: #fff;
    transition: all 0.4s ease, opacity 1s ease;
    z-index: 10;
    opacity: 1;
  }

  .form-container:hover {
    box-shadow: 0 0 50px #00ffffaa, 0 0 80px #00ffff55;
  }

  .form-container h1 {
    font-family: 'Orbitron', sans-serif;
    color: #00ffff;
    margin-bottom: 20px;
    text-shadow: 0 0 10px #00ffff;
  }

  .form-container .logo {
    width: 80px;
    margin-bottom: 20px;
  }

  .input-group {
    position: relative;
    margin: 20px 0;
  }

  .input-group input {
    width: 100%;
    padding: 12px 15px;
    background: #1c1f2a;
    border: 1px solid #3a3f5c;
    border-radius: 8px;
    color: #fff;
    outline: none;
    font-size: 16px;
    transition: 0.3s;
  }

  .input-group label {
    position: absolute;
    top: 12px;
    left: 15px;
    color: #888;
    pointer-events: none;
    transition: 0.3s;
  }

  .input-group input:focus + label,
  .input-group input:not(:placeholder-shown) + label {
    top: -10px;
    left: 10px;
    font-size: 12px;
    color: #00ffff;
    background: rgba(0,0,0,0.85);
    padding: 0 5px;
  }

  .form-container button {
    width: 100%;
    padding: 12px;
    margin-top: 15px;
    border: none;
    border-radius: 8px;
    background: #00ffff;
    color: #000;
    font-weight: bold;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .form-container button:hover {
    background: #00bfff;
    box-shadow: 0 0 15px #00ffff;
  }

  .form-container a {
    display: block;
    margin-top: 12px;
    color: #00ffff;
    text-decoration: none;
    font-size: 14px;
    cursor: pointer;
  }

  .form-container a:hover {
    text-decoration: underline;
  }
</style>
</head>

<body>
<!-- Particle Background -->
<div id="particles-js"></div>

<!-- Login Form -->
<div class="form-container" id="login-form">
    <img src="https://img.icons8.com/ios-filled/100/00ffff/cyber-security.png" alt="Tech Logo" class="logo">
    <h1>Viducate</h1>

    <div class="input-group">
        <input type="text" id="username" placeholder=" " required>
        <label>Email ID</label>
    </div>

    <div class="input-group">
        <input type="password" id="password" placeholder=" " required>
        <label>Password</label>
    </div>

    <button onclick="login()">Login</button>
    <a onclick="showSignUp()">Sign Up</a>
</div>

<!-- Sign Up Form -->
<div class="form-container" id="signup-form" style="display:none;">
    <img src="https://img.icons8.com/ios-filled/100/00ffff/cyber-security.png" alt="Tech Logo" class="logo">
    <h1>Sign Up</h1>

    <div class="input-group">
        <input type="email" id="signup-email" placeholder=" " required>
        <label>Email ID</label>
    </div>

    <div class="input-group">
        <input type="password" id="signup-password" placeholder=" " required>
        <label>Create Password</label>
    </div>

    <div class="input-group">
        <input type="password" id="signup-confirm" placeholder=" " required>
        <label>Confirm Password</label>
    </div>

    <button onclick="signUp()">Sign Up</button>
    <a onclick="showLogin()">Back to Login</a>
</div>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } 
    from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDJdKZOwLdZZFYQGgcFqgG_AF205SZgH2c",
    authDomain: "viducate-52a38.firebaseapp.com",
    projectId: "viducate-52a38",
    storageBucket: "viducate-52a38.firebasestorage.app",
    messagingSenderId: "604738853913",
    appId: "1:604738853913:web:1a5162ace231e8bf0e1e88",
    measurementId: "G-NYLZ7YLB2Y"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.showSignUp = function(){
    document.getElementById("login-form").style.display="none";
    document.getElementById("signup-form").style.display="block";
  }

  window.showLogin = function(){
    document.getElementById("signup-form").style.display="none";
    document.getElementById("login-form").style.display="block";
  }

  window.signUp = function() {
    const email = document.getElementById("signup-email").value.trim();
    const pass = document.getElementById("signup-password").value;
    const confirm = document.getElementById("signup-confirm").value;

    if (pass !== confirm) {
      alert("Passwords do not match!");
      return;
    }

    createUserWithEmailAndPassword(auth, email, pass)
      .then((userCredential) => {
        alert("✅ Sign Up Successful!\nWelcome " + email);
        // Redirect to Flask/Gradio app
        window.location.href = "http://127.0.0.1:7860";
      })
      .catch((error) => {
        alert("❌ " + error.message);
      });
  }

  window.login = function() {
    const email = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    signInWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        alert("✅ Login Successful!");
        // Redirect to Flask/Gradio app
        window.location.href = "http://127.0.0.1:7860";
      })
      .catch((error) => {
        alert("❌ " + error.message);
      });
  }
</script>
</body>
</html>
